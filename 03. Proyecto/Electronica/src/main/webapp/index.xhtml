<ui:composition template="/WEB-INF/templates/layout.xhtml"
                xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                xmlns:p="http://primefaces.org/ui"
                xmlns:f="http://xmlns.jcp.org/jsf/core"
                xmlns:c="http://xmlns.jcp.org/jsp/jstl/core">
    <ui:param name="title" value="Inicio" />
    <ui:define name="content">

        <!-- SECTION -->
        <div class="section">
            <!-- container -->
            <div class="container">
                <!-- row -->
                <div class="row" >
                    <!-- shop -->
                    <div class="col-md-4 col-xs-6">
                        <div class="shop">
                            <div class="shop-img">
                                <img src="./img/ropa1.png" alt=""/>
                            </div>
                            <div class="shop-body">
                                <h3>Nuevos<br/>Productos</h3>
                                <a href="catalog.xhtml" class="cta-btn">Compra ahora! <i class="fa fa-arrow-circle-right"></i></a>
                            </div>
                        </div>
                    </div>
                    <!-- /shop -->

                    <!-- shop -->
                    <div class="col-md-4 col-xs-6">
                        <div class="shop">
                            <div class="shop-img">
                                <img src="./img/ropa2.png" alt=""/>
                            </div>
                            <div class="shop-body">
                                <h3>Nosotros</h3>
                                <a href="about.xhtml" class="cta-btn">Contactanos! <i class="fa fa-arrow-circle-right"></i></a>
                            </div>
                        </div>
                    </div>
                    <!-- /shop -->

                    <!-- shop -->
                    <div class="col-md-4 col-xs-6">
                        <div class="shop">
                            <div class="shop-img">
                                <img src="./img/ropa3.png" alt=""/>
                            </div>
                            <div class="shop-body">
                                <h3>Carrito</h3>
                                <a href="checkout.xhtml" class="cta-btn">Envios gratis <i class="fa fa-arrow-circle-right"></i></a>
                            </div>
                        </div>
                    </div>
                    <!-- /shop -->
                </div>
                <!-- /row -->
            </div>
            <!-- /container -->
        </div>
        <!-- /SECTION -->

        <!-- SECTION -->
        <div class="section">
            <!-- container -->
            <div class="container">
                <!-- row -->
                <div class="row">

                    <!-- section title -->
                    <div class="col-md-12">
                        <div class="section-title">
                            <h3 class="title">Nuevos Productos</h3>
                            <div class="section-nav">
                                <ul class="section-tab-nav tab-nav">
                                    <ui:repeat value="#{categoriaBean.service.categoriaSel()}" var="cat">
                                        <li><a data-toggle="tab" href="#tab#{cat.id}">#{cat.nombre}</a></li>
                                    </ui:repeat>
                                </ul>
                            </div>
                        </div>
                    </div>
                    <!-- /section title -->

                    <!-- Products tab & slick -->
                    <div class="col-md-12">
                        <div class="row" >
                            <div class="products-tabs">
                                <ui:repeat value="#{categoriaBean.service.categoriaSel()}" var="categoria">
                                    <!-- tab -->
                                    <div id="tab#{categoria.id}" class="tab-pane active">
                                        <div class="products-slick" data-nav="#slick-nav-#{categoria.id}">

                                            <ui:repeat value="#{productoBean.service.productoSel()}" var="producto">
                                                <h:panelGroup rendered="#{categoria.id == producto.categoria.id}">
                                                    <!-- product -->
                                                    <h:form>
                                                        <div class="product" >
                                                            <div class="product-img">
                                                                <img src="#{producto.imagen}" alt=""/>
                                                            </div>
                                                            <div class="product-body">
                                                                <p class="product-category">#{producto.categoria.nombre}</p>
                                                                <h3 class="product-name"><a href="#">#{producto.nombre}</a></h3>
                                                                <h4 class="product-price">S/ #{producto.precio}</h4>
                                                                <div class="product-btns">
                                                                    <button class="add-to-wishlist"><i class="fa fa-heart-o"></i><span class="tooltipp">Añadir al carrito</span></button>
                                                                    <button class="quick-view"><i class="fa fa-eye"></i><span class="tooltipp">Visualizar</span></button>
                                                                </div>
                                                            </div>
                                                            <div class="add-to-cart">
                                                                
                                                                <h:commandButton value="Añadir al carrito" action="#{carritoBean.agregarAlCarrito(producto)}" styleClass="add-to-cart-btn">
                                                                    <f:ajax execute="@form" render=":carritoPanel :carritoPanel :carritodropdown :carritoprice"/>
                                                                </h:commandButton>
                                                            </div>
                                                        </div>
                                                    </h:form>
                                                    <!-- /product -->
                                                </h:panelGroup>
                                            </ui:repeat>
                                        </div>
                                        <div id="slick-nav-#{categoria.id}" class="products-slick-nav"></div>
                                    </div>
                                    <!-- /tab -->
                                </ui:repeat>

                            </div>
                        </div>
                    </div>
                    <!-- Products tab & slick -->
                </div>
                <!-- /row -->
            </div>
            <!-- /container -->
        </div>
        <!-- /SECTION -->

        <!-- HOT DEAL SECTION -->
        <div id="hot-deal" class="section">
            <!-- container -->
            <div class="container">
                <!-- row -->
                <div class="row">
                    <div class="col-md-12">
                        <div class="hot-deal">
                            <h2 class="text-uppercase">Rebajas este Fin de Semana</h2>
                            <p>¡Aprovecha nuestros descuentos!</p>
                            <a class="primary-btn cta-btn" href="catalog.xhtml">Ir a la tienda</a>
                        </div>
                    </div>
                </div>
                <!-- /row -->
            </div>
            <!-- /container -->
        </div>
        <!-- /HOT DEAL SECTION -->


    </ui:define>
</ui:composition>